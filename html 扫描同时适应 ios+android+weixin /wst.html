<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gb2312">
<script type="text/javascript">
	
	var i = 0;
	//java调用了js 无参
	function javaCallJs() {
		document.getElementById("content").innerHTML += "<br\>java调用了js函数";
	}
	//java调用了js 有参数
	function javaCallJsWithArgs(arg) {
		i++;
		document.getElementById("content").innerHTML += ("<br\>结果"+i+"："+ arg);
	}
	
	//微信浏览器
	function isWeiXin(){
	    var ua = window.navigator.userAgent.toLowerCase();
	    if(ua.match(/MicroMessenger/i) == 'micromessenger'){
	        return true;
	    }else{
	        return false;
	    }
	}
	
	//打开扫描
	function openScan() {
		if(isWeiXin()){
			//调用微信 包含 ios 与 android
			alert("微信app打开的");
			return;
		}
		//alert(navigator.userAgent);
		if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {
			window.location.href = "ios:openScan(扫描)";		//调用 ios 扫描 
		} else if (/(Android)/i.test(navigator.userAgent)) {
			window.request.openScan();						//调用 Android 扫描 
		}else{
		 	alert("pc机");
		}
	}
</script>
</head>
<body>
	<div
		style="width:96%;height: 150px;text-align: center;padding-top: 40px;">
		<div>
			<a onClick="openScan()"> 《点我 js 调用 iphone or android》</a>
		</div>
		<br />
		<p
			style=" width:100%;height: 22px;text-align: center;background: red;">扫描结果</p>
		<div id="content"
			style=" width:100%;height: 200px;text-align: center;"></div>

	</div>
</body>
</html>